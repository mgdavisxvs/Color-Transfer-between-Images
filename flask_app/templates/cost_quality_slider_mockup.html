<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cost/Quality Control Slider - Interactive Mockup</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
            min-height: 100vh;
        }

        .mockup-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .mockup-header {
            background: white;
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .mockup-header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .mockup-header p {
            color: #718096;
            font-size: 1.2rem;
        }

        .design-section {
            background: white;
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .section-title {
            font-size: 1.8rem;
            color: #2d3748;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #667eea;
        }

        /* Slider Container */
        .slider-container {
            padding: 40px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .slider-label {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
        }

        /* Custom Slider */
        .slider-track {
            position: relative;
            height: 12px;
            background: linear-gradient(90deg, #48bb78 0%, #f6ad55 50%, #667eea 100%);
            border-radius: 6px;
            margin: 30px 0 60px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .slider-thumb {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 32px;
            height: 32px;
            background: white;
            border: 4px solid #667eea;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .slider-thumb:hover {
            transform: translate(-50%, -50%) scale(1.2);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .slider-thumb:active {
            transform: translate(-50%, -50%) scale(1.1);
        }

        /* Preset Markers */
        .preset-markers {
            position: relative;
            margin-top: -40px;
            display: flex;
            justify-content: space-between;
        }

        .preset-marker {
            flex: 1;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .preset-marker:hover {
            transform: translateY(-3px);
        }

        .preset-dot {
            width: 16px;
            height: 16px;
            background: white;
            border: 3px solid #cbd5e0;
            border-radius: 50%;
            margin: 0 auto 8px;
            transition: all 0.3s ease;
        }

        .preset-marker.active .preset-dot {
            border-color: #667eea;
            background: #667eea;
            transform: scale(1.3);
        }

        .preset-name {
            font-weight: 600;
            color: #4a5568;
            font-size: 0.95rem;
            margin-bottom: 4px;
        }

        .preset-marker.active .preset-name {
            color: #667eea;
        }

        .preset-cost {
            font-size: 0.85rem;
            color: #718096;
        }

        /* Profile Comparison */
        .profile-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .profile-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 3px solid transparent;
        }

        .profile-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);
        }

        .profile-card.active {
            border-color: #667eea;
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.3);
        }

        .profile-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .profile-icon {
            font-size: 2.5rem;
        }

        .profile-title {
            font-size: 1.4rem;
            font-weight: bold;
            color: #2d3748;
        }

        .profile-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-eco {
            background: #c6f6d5;
            color: #22543d;
        }

        .badge-balanced {
            background: #fef3c7;
            color: #78350f;
        }

        .badge-quality {
            background: #e0e7ff;
            color: #3730a3;
        }

        .profile-specs {
            list-style: none;
            margin: 15px 0;
        }

        .profile-specs li {
            padding: 8px 0;
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid #e2e8f0;
        }

        .spec-label {
            color: #718096;
            font-size: 0.9rem;
        }

        .spec-value {
            color: #2d3748;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .profile-cost {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 8px;
            margin-top: 15px;
        }

        .cost-label {
            font-size: 0.85rem;
            color: #718096;
            margin-bottom: 5px;
        }

        .cost-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2d3748;
        }

        /* Live Settings Display */
        .live-settings {
            background: #2d3748;
            color: white;
            border-radius: 12px;
            padding: 30px;
            font-family: 'Monaco', 'Courier New', monospace;
            margin-top: 30px;
        }

        .settings-title {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #a0aec0;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .setting-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .setting-name {
            color: #a0aec0;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .setting-value {
            color: #ffffff;
            font-size: 1.1rem;
            font-weight: bold;
        }

        /* Impact Visualization */
        .impact-visualization {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .impact-card {
            background: linear-gradient(135deg, #ffffff 0%, #f7fafc 100%);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .impact-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .impact-label {
            font-size: 0.9rem;
            color: #718096;
            margin-bottom: 10px;
        }

        .impact-value {
            font-size: 2rem;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .impact-change {
            font-size: 0.85rem;
            color: #48bb78;
            font-weight: 600;
        }

        .impact-change.negative {
            color: #f56565;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .mockup-header h1 {
                font-size: 1.8rem;
            }

            .profile-comparison {
                grid-template-columns: 1fr;
            }

            .impact-visualization {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="mockup-container">
        <!-- Header -->
        <div class="mockup-header">
            <h1>üé® Cost/Quality Control Slider</h1>
            <p>Interactive Design Mockup & Functional Prototype</p>
        </div>

        <!-- Main Slider Section -->
        <div class="design-section">
            <h2 class="section-title">Primary Control</h2>

            <div class="slider-container">
                <div class="slider-label">
                    Adjust processing mode: <span id="current-mode">Balanced</span>
                </div>

                <div class="slider-track">
                    <div class="slider-thumb" id="slider-thumb" style="left: 50%"></div>
                </div>

                <div class="preset-markers">
                    <div class="preset-marker" data-value="0" data-name="Eco">
                        <div class="preset-dot"></div>
                        <div class="preset-name">üå± Eco</div>
                        <div class="preset-cost">$0.01/image</div>
                    </div>
                    <div class="preset-marker active" data-value="50" data-name="Balanced">
                        <div class="preset-dot"></div>
                        <div class="preset-name">‚öñÔ∏è Balanced</div>
                        <div class="preset-cost">$0.025/image</div>
                    </div>
                    <div class="preset-marker" data-value="100" data-name="Max Quality">
                        <div class="preset-dot"></div>
                        <div class="preset-name">üíé Max Quality</div>
                        <div class="preset-cost">$0.05/image</div>
                    </div>
                </div>
            </div>

            <!-- Profile Comparison -->
            <div class="profile-comparison">
                <div class="profile-card" id="eco-card">
                    <div class="profile-header">
                        <div>
                            <div class="profile-icon">üå±</div>
                            <div class="profile-title">Eco Mode</div>
                        </div>
                        <span class="profile-badge badge-eco">Fastest</span>
                    </div>
                    <ul class="profile-specs">
                        <li><span class="spec-label">Workers</span><span class="spec-value">2</span></li>
                        <li><span class="spec-label">Mode</span><span class="spec-value">Best Only</span></li>
                        <li><span class="spec-label">Resolution</span><span class="spec-value">Downsampled</span></li>
                        <li><span class="spec-label">GPU Usage</span><span class="spec-value">Low</span></li>
                        <li><span class="spec-label">Time</span><span class="spec-value">~1.0s</span></li>
                    </ul>
                    <div class="profile-cost">
                        <div class="cost-label">Estimated Cost</div>
                        <div class="cost-value">$0.01</div>
                    </div>
                </div>

                <div class="profile-card active" id="balanced-card">
                    <div class="profile-header">
                        <div>
                            <div class="profile-icon">‚öñÔ∏è</div>
                            <div class="profile-title">Balanced</div>
                        </div>
                        <span class="profile-badge badge-balanced">Recommended</span>
                    </div>
                    <ul class="profile-specs">
                        <li><span class="spec-label">Workers</span><span class="spec-value">4</span></li>
                        <li><span class="spec-label">Mode</span><span class="spec-value">Adaptive</span></li>
                        <li><span class="spec-label">Resolution</span><span class="spec-value">Preview First</span></li>
                        <li><span class="spec-label">GPU Usage</span><span class="spec-value">Medium</span></li>
                        <li><span class="spec-label">Time</span><span class="spec-value">~2.5s</span></li>
                    </ul>
                    <div class="profile-cost">
                        <div class="cost-label">Estimated Cost</div>
                        <div class="cost-value">$0.025</div>
                    </div>
                </div>

                <div class="profile-card" id="quality-card">
                    <div class="profile-header">
                        <div>
                            <div class="profile-icon">üíé</div>
                            <div class="profile-title">Max Quality</div>
                        </div>
                        <span class="profile-badge badge-quality">Best Result</span>
                    </div>
                    <ul class="profile-specs">
                        <li><span class="spec-label">Workers</span><span class="spec-value">5</span></li>
                        <li><span class="spec-label">Mode</span><span class="spec-value">All Workers</span></li>
                        <li><span class="spec-label">Resolution</span><span class="spec-value">Full</span></li>
                        <li><span class="spec-label">GPU Usage</span><span class="spec-value">High</span></li>
                        <li><span class="spec-label">Time</span><span class="spec-value">~4.0s</span></li>
                    </ul>
                    <div class="profile-cost">
                        <div class="cost-label">Estimated Cost</div>
                        <div class="cost-value">$0.05</div>
                    </div>
                </div>
            </div>

            <!-- Live Settings -->
            <div class="live-settings">
                <div class="settings-title">‚öôÔ∏è Live Configuration (JSON)</div>
                <div class="settings-grid">
                    <div class="setting-item">
                        <div class="setting-name">mode</div>
                        <div class="setting-value" id="setting-mode">"balanced"</div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-name">workers</div>
                        <div class="setting-value" id="setting-workers">4</div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-name">downsample</div>
                        <div class="setting-value" id="setting-downsample">true</div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-name">quality_weight</div>
                        <div class="setting-value" id="setting-quality">0.50</div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-name">estimated_cost</div>
                        <div class="setting-value" id="setting-cost">"$0.025"</div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-name">estimated_time</div>
                        <div class="setting-value" id="setting-time">"2.5s"</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Impact Visualization -->
        <div class="design-section">
            <h2 class="section-title">Impact Analysis</h2>

            <div class="impact-visualization">
                <div class="impact-card">
                    <div class="impact-icon">üí∞</div>
                    <div class="impact-label">Cost per Image</div>
                    <div class="impact-value" id="impact-cost">$0.025</div>
                    <div class="impact-change" id="impact-cost-change">Baseline</div>
                </div>

                <div class="impact-card">
                    <div class="impact-icon">‚ö°</div>
                    <div class="impact-label">Energy Consumption</div>
                    <div class="impact-value" id="impact-energy">12.5 Wh</div>
                    <div class="impact-change" id="impact-energy-change">Baseline</div>
                </div>

                <div class="impact-card">
                    <div class="impact-icon">‚è±Ô∏è</div>
                    <div class="impact-label">Processing Time</div>
                    <div class="impact-value" id="impact-time">2.5s</div>
                    <div class="impact-change" id="impact-time-change">Baseline</div>
                </div>

                <div class="impact-card">
                    <div class="impact-icon">üéØ</div>
                    <div class="impact-label">Quality Score</div>
                    <div class="impact-value" id="impact-quality">85%</div>
                    <div class="impact-change" id="impact-quality-change">Good</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Slider configuration
        const profiles = {
            eco: {
                value: 0,
                name: 'Eco',
                workers: 2,
                mode: 'best',
                downsample: true,
                quality_weight: 0.3,
                cost: 0.01,
                time: 1.0,
                energy: 5.0,
                quality: 70
            },
            balanced: {
                value: 50,
                name: 'Balanced',
                workers: 4,
                mode: 'adaptive',
                downsample: true,
                quality_weight: 0.5,
                cost: 0.025,
                time: 2.5,
                energy: 12.5,
                quality: 85
            },
            max_quality: {
                value: 100,
                name: 'Max Quality',
                workers: 5,
                mode: 'all',
                downsample: false,
                quality_weight: 1.0,
                cost: 0.05,
                time: 4.0,
                energy: 25.0,
                quality: 95
            }
        };

        // State
        let currentValue = 50;
        let isDragging = false;

        // Elements
        const thumb = document.getElementById('slider-thumb');
        const track = thumb.parentElement;
        const markers = document.querySelectorAll('.preset-marker');

        // Initialize
        updateUI(currentValue);

        // Slider dragging
        thumb.addEventListener('mousedown', startDrag);
        document.addEventListener('mousemove', drag);
        document.addEventListener('mouseup', stopDrag);

        // Preset clicks
        markers.forEach(marker => {
            marker.addEventListener('click', () => {
                const value = parseInt(marker.dataset.value);
                setSliderValue(value);
            });
        });

        // Touch support
        thumb.addEventListener('touchstart', (e) => {
            e.preventDefault();
            startDrag(e.touches[0]);
        });
        document.addEventListener('touchmove', (e) => {
            e.preventDefault();
            drag(e.touches[0]);
        });
        document.addEventListener('touchend', stopDrag);

        function startDrag(e) {
            isDragging = true;
        }

        function drag(e) {
            if (!isDragging) return;

            const rect = track.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));

            setSliderValue(percentage);
        }

        function stopDrag() {
            isDragging = false;
        }

        function setSliderValue(value) {
            currentValue = value;
            thumb.style.left = value + '%';
            updateUI(value);
        }

        function updateUI(value) {
            // Interpolate profile
            const profile = interpolateProfile(value);

            // Update mode name
            document.getElementById('current-mode').textContent = profile.name;

            // Update markers
            markers.forEach(marker => {
                const markerValue = parseInt(marker.dataset.value);
                if (Math.abs(value - markerValue) < 10) {
                    marker.classList.add('active');
                } else {
                    marker.classList.remove('active');
                }
            });

            // Update profile cards
            document.getElementById('eco-card').classList.toggle('active', value < 25);
            document.getElementById('balanced-card').classList.toggle('active', value >= 25 && value <= 75);
            document.getElementById('quality-card').classList.toggle('active', value > 75);

            // Update settings
            document.getElementById('setting-mode').textContent = `"${profile.mode}"`;
            document.getElementById('setting-workers').textContent = profile.workers;
            document.getElementById('setting-downsample').textContent = profile.downsample;
            document.getElementById('setting-quality').textContent = profile.quality_weight.toFixed(2);
            document.getElementById('setting-cost').textContent = `"$${profile.cost.toFixed(3)}"`;
            document.getElementById('setting-time').textContent = `"${profile.time.toFixed(1)}s"`;

            // Update impact
            document.getElementById('impact-cost').textContent = `$${profile.cost.toFixed(3)}`;
            document.getElementById('impact-energy').textContent = `${profile.energy.toFixed(1)} Wh`;
            document.getElementById('impact-time').textContent = `${profile.time.toFixed(1)}s`;
            document.getElementById('impact-quality').textContent = `${profile.quality}%`;

            // Update impact changes (vs balanced)
            const baseline = profiles.balanced;
            updateImpactChange('cost', profile.cost, baseline.cost, true);
            updateImpactChange('energy', profile.energy, baseline.energy, true);
            updateImpactChange('time', profile.time, baseline.time, true);
            updateImpactChange('quality', profile.quality, baseline.quality, false);
        }

        function updateImpactChange(name, current, baseline, lowerIsBetter) {
            const element = document.getElementById(`impact-${name}-change`);
            const diff = ((current - baseline) / baseline) * 100;

            if (Math.abs(diff) < 1) {
                element.textContent = 'Baseline';
                element.className = 'impact-change';
            } else {
                const sign = diff > 0 ? '+' : '';
                element.textContent = `${sign}${diff.toFixed(0)}%`;

                const isGood = lowerIsBetter ? (diff < 0) : (diff > 0);
                element.className = isGood ? 'impact-change' : 'impact-change negative';
            }
        }

        function interpolateProfile(value) {
            // Determine which two profiles to interpolate between
            let profile1, profile2, t;

            if (value <= 50) {
                profile1 = profiles.eco;
                profile2 = profiles.balanced;
                t = value / 50;
            } else {
                profile1 = profiles.balanced;
                profile2 = profiles.max_quality;
                t = (value - 50) / 50;
            }

            // Interpolate values
            return {
                name: t < 0.5 ? profile1.name : profile2.name,
                workers: Math.round(profile1.workers + (profile2.workers - profile1.workers) * t),
                mode: value < 25 ? 'best' : (value > 75 ? 'all' : 'adaptive'),
                downsample: value < 75,
                quality_weight: profile1.quality_weight + (profile2.quality_weight - profile1.quality_weight) * t,
                cost: profile1.cost + (profile2.cost - profile1.cost) * t,
                time: profile1.time + (profile2.time - profile1.time) * t,
                energy: profile1.energy + (profile2.energy - profile1.energy) * t,
                quality: Math.round(profile1.quality + (profile2.quality - profile1.quality) * t)
            };
        }
    </script>
</body>
</html>
